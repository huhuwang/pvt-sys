import{q as h,r as v,j as b,k as $,d as p,o as A,c as B,b as a,l as w,t as D,w as l,p as c,a as H,s as C,n as d,V as r}from"./index-DkAa4VJT.js";const O={__name:"RTTemplate",setup(J){const R=h(),g=v(!1),x=v(),o=b({total:0,currentPage:1,pageSize:10}),i=async()=>{g.value=!0;const{pageSize:t,currentPage:e}=o;let m=v(_.data);m.value.pageSize=t,m.value.pageNum=e,await d.post("rt/page",m.value).then(s=>{o.total=s.totalRecordNum,x.value=s.data}).catch(s=>{r.modal.message({content:s,status:"error"})}).finally(()=>{g.value=!1})},T=({pageSize:t,currentPage:e})=>{o.currentPage=e,o.pageSize=t,i()},I=t=>{r.modal.confirm({title:"操作提示",content:"请您确认是否删除？",onConfirm:()=>{d.delete(`rt/delete/${t.id}`,{}).then(e=>{r.modal.message({content:"删除成功",status:"success"}),i()}).catch(e=>{r.modal.message({content:"删除失败",status:"error"})})}})},P=t=>{const e={rtTemplateId:t.id};R.push({name:"rt-template-update",state:e})},y=t=>{d.post(`rt/copy/${t.id}`,{}).then(e=>{r.modal.message({content:"copy success",status:"success"}),i()}).catch(e=>{r.modal.message({content:"copy fail",status:"error"})})},S=t=>{d.post(`rt/status/${t.id}`,{}).then(e=>{r.modal.message({content:"update success",status:"success"}),i()}).catch(e=>{r.modal.message({content:e,status:"error"})})},_=b({data:{templateName:null,application:[]},items:[{field:"templateName",title:"summary name",span:8,itemRender:{name:"VxeInput"}},{field:"application",title:"application",span:10,itemRender:{name:"VxeSelect",props:{multiple:!0},options:[{label:"IRECRUIT2.0",value:"IRECRUIT2.0"},{label:"IRECRUIT1.0",value:"IRECRUIT1.0"},{label:"CAT",value:"CAT"},{label:"AI INTERVIEW",value:"AI INTERVIEW"}]}},{span:2,itemRender:{name:"VxeButtonGroup",options:[{type:"submit",content:"搜索",status:"primary"}]}}]}),N=t=>{if(t==1)return"启用";if(t==2)return"停用"},k=t=>{if(t==1)return"禁用";if(t==2)return"启用"},z={submit(){o.currentPage=1,i()}};return $(()=>{i()}),(t,e)=>{const m=p("vxe-form"),s=p("vxe-button"),E=p("vxe-toolbar"),u=p("vxe-column"),U=p("vxe-table"),V=p("vxe-pager");return A(),B("div",null,[a(m,w(_,D(z)),null,16),a(E,null,{buttons:l(()=>[a(s,{status:"primary","router-link":{name:"rt-template-add"}},{default:l(()=>e[2]||(e[2]=[c("新增")])),_:1})]),_:1}),a(U,{border:"","column-config":{resizable:!0},height:"550",loading:g.value,"row-config":{isCurrent:!0,isHover:!0},data:x.value},{default:l(()=>[a(u,{title:"summary name",field:"templateName"}),a(u,{title:"application",field:"application"}),a(u,{title:"flow number",field:"flowNumber"}),a(u,{title:"status",field:"status"},{default:l(({row:n})=>[H("span",null,C(N(n.status)),1)]),_:1}),a(u,{title:"creater",field:"createUser"}),a(u,{title:"updater",field:"updateUser"}),a(u,{title:"action",width:"200",fixed:"right"},{default:l(({row:n})=>[a(s,{mode:"text",status:"error",onClick:f=>I(n)},{default:l(()=>e[3]||(e[3]=[c("删除")])),_:2},1032,["onClick"]),a(s,{mode:"text",onClick:f=>P(n)},{default:l(()=>e[4]||(e[4]=[c("修改")])),_:2},1032,["onClick"]),a(s,{mode:"text",onClick:f=>y(n)},{default:l(()=>e[5]||(e[5]=[c("复制")])),_:2},1032,["onClick"]),a(s,{mode:"text",status:"primary",onClick:f=>S(n)},{default:l(()=>[c(C(k(n.status)),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data"]),a(V,{currentPage:o.currentPage,"onUpdate:currentPage":e[0]||(e[0]=n=>o.currentPage=n),pageSize:o.pageSize,"onUpdate:pageSize":e[1]||(e[1]=n=>o.pageSize=n),total:o.total,layouts:["Home","PrevJump","PrevPage","Number","NextPage","NextJump","End","Sizes","FullJump","Total"],onPageChange:T},null,8,["currentPage","pageSize","total"])])}}};export{O as default};
